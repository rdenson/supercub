<div class="row justify-content-center justify-content-md-center">
  <div class="col-12 col-md-12 col-xl-10">
    <h2 class="page-title">{{ form.name }}</h2>
  </div>
</div>


<div class="row justify-content-center justify-content-md-center mt-2 mb-1">
  <!-- action toolbar -->
  <div class="col-12 col-md-12 col-xl-10">
    <div class="btn-toolbar">
      <div class="btn-group btn-group-sm">
        <button type="button" class="btn btn-secondary" ng-click="returnToChart()">Return to Patient's Chart</button>
      </div>
    </div>
  </div>
</div>

<div class="row justify-content-center justify-content-md-center mb-3">
  <div class="col-12 col-md-12 col-xl-10">
    <div class="card">
      <div class="card-body">

        <div class="form-row">
          <div class="col-12 col-md-4">
            <label for="facilityName">Facility Name</label>
            <input id="facilityName" type="text" class="form-control form-control-sm" ng-model="form.preamble.facilityName" readonly>
          </div>
          <div class="col-12 col-md-4 col-xl-2">
            <label for="visitDate">Date of Visit</label>
            <input id="visitDate" type="text" class="form-control form-control-sm" placeholder="dd/mm/yyyy" ng-model="form.preamble.visitDate">
          </div>
        </div>
        <div class="form-row">
          <div class="col-12 col-md-8 col-xl-6">
            <label for="patientName">Patient</label>
            <input id="patientName" type="text" class="form-control form-control-sm" ng-model="form.preamble.patientName" readonly>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<div class="row justify-content-center justify-content-md-center mb-3">
  <div class="col-12 col-md-12 col-xl-10 table-responsive-sm">
    <div class="card">
      <div class="card-body">
        <table class="table table-sm table-hover" style="margin-top: 10px;">
          <thead class="thead-light">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Concern</th>
              <th scope="col">Action Steps</th>
              <th scope="col">Result</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in form.planItems">
              <td scope="row">{{ $index + 1 }}</td>
              <td><textarea id="concern{{ $index }}" class="form-control" rows="3" ng-model="item.concern"></textarea></td>
              <td><textarea id="steps{{ $index }}" class="form-control" rows="3" ng-model="item.steps"></textarea></td>
              <td><textarea id="result{{ $index }}" class="form-control" rows="3" ng-model="item.result"></textarea></td>
            </tr>
          </tbody>
        </table>
        <button type="button" class="btn btn-success btn-sm btn-block" ng-click="startAnotherRow()">Add a Concern</button>
        <button type="button" class="btn btn-outline-danger btn-sm btn-block" ng-show="canRemovePlanItems" ng-click="removeLastRow()">Remove Last Concern</button>
      </div>
    </div>
  </div>
</div>

<div class="row justify-content-center justify-content-md-center">
  <div class="col-12 col-md-12 col-xl-10">
    <div class="card">
      <div class="card-body">

        <div class="form-row" style="margin-bottom: 10px;">
          <div class="col-12 col-md-8">
            <label for="">Pharmacist</label>
            <input id="pharmacistName" type="text" class="form-control form-control-sm" ng-model="form.suffix.pharmacistName">
          </div>
          <div class="col-6 col-md-2">
            <label for="timeSpent">Time Spent</label>
            <input id="timeSpent" type="text" class="form-control form-control-sm" placeholder="ex: 45 minutes" ng-model="form.suffix.timeSpent">
          </div>
          <div class="col-6 col-md-2">
            <label for="signatureDate">Date</label>
            <input id="signatureDate" type="text" class="form-control form-control-sm" placeholder="dd/mm/yyyy" ng-model="form.suffix.signatureDate">
          </div>
        </div>
        <button type="button" class="btn btn-primary btn-sm btn-block" ng-disabled="!form.preamble.visitDate.length" ng-click="saveForm()">Save Form</button>

      </div>
    </div>
  </div>
</div>
